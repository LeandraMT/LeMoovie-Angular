<body class="page-background">
    <mat-toolbar>
        <button mat-button (click)="moviesPage()" class="movies-btn" style="color: #606470; background-color: #93deff;">
            Movies
        </button>
        <button mat-button (click)="logoutUser()" class="logout-btn" style="color: #606470; background-color: #93deff;">
            Logout
        </button>
    </mat-toolbar>

    <div class="profile-cards">
        <mat-card class="card-info">
            <mat-card-header>
                <div mat-card-avatar class="avatar"></div>
                <mat-card-title>Hello, {{user.Username}}</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <h3 mat-line>Username</h3>
                <p mat-line>{{ user.Username }}</p>

                <h3 mat-line>Email</h3>
                <p mat-line>{{ user.Email }}</p>
            </mat-card-content>
        </mat-card>

        <mat-card class="card-update">
            <mat-card-header>
                <mat-card-title>Edit your info:</mat-card-title>
            </mat-card-header>

            <mat-card-content>
                <form class="profile-form">
                    <mat-form-field>
                        <input matInput [(ngModel)]="userData.Username" placeholder="Username" type="text"
                            name="Username" required />
                    </mat-form-field>

                    <mat-form-field>
                        <input matInput [(ngModel)]="userData.Password" placeholder="Password" type="password"
                            name="Password" required />
                    </mat-form-field>

                    <mat-form-field>
                        <input matInput [(ngModel)]="userData.Email" placeholder="Email" type="email" name="Email"
                            required />
                    </mat-form-field>

                    <mat-card-actions>
                        <button mat-raised-button (click)="updateUser()"
                            style="color: #606470; background-color: #93deff;">
                            Save changes
                        </button>

                        <button mat-raised-button color="warn" (click)="deleteUser()">
                            Delete your account
                        </button>
                    </mat-card-actions>
                </form>
            </mat-card-content>
        </mat-card>
    </div>

    <div class="movie-grid">
        <div class="favourite-movies">
            <h1>Favourite Movies:</h1>
        </div>

        <mat-grid-list [cols]="5" rowHeight="600px">
            <mat-grid-tile *ngFor="let movie of favouriteMovies, let i = index">
                <mat-card class="movie-card">
                    <mat-card-title class="movie-title">{{movie.Title}}</mat-card-title>
                    <mat-card-subtitle>
                        <img src={{movie.ImagePath}} class="movie-image" alt={{movie.Title}} />
                    </mat-card-subtitle>
                    <button mat-icon-button (click)="deleteFavouriteMovies(movie._id)">
                        <mat-icon>delete</mat-icon>
                    </button>
                </mat-card>
            </mat-grid-tile>
        </mat-grid-list>
    </div>
</body>